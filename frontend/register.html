<!DOCTYPE html>
<html lang="en">

    <head>
        <title>Εγγραφή</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <link rel="stylesheet" href="styles.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>

    <body>
        <div class="p-3 d-flex flex-column justify-content-center align-items-stretch">
            <!-- Button Selection -->
            <div class="buttons p-2 justify-content-center align-items-center" id="btnBox">
                <h3>Επιλέξτε κατηγορία:</h3>
                <button type="button" id="doc-btn" class="btn btn-lg btn-outline-dark">Ιατρός</button>
                <button type="button" id="pat-btn" class="btn btn-lg btn-outline-dark">Ασθενής</button>
            </div>

            <div class="form hidden p-1 flex-fill flex-grow-1" id="formBox">
                <!-- Doctor Form -->
                <div class="container hidden" id="doc-form">
                    <h1 class="pt-2 ps-5">Εγγραφή</h1>
                    <div class="row pt-2 ps-5 pe-5">
                        <div class="col">
                            <form>
                                <div class="form-group w-80">
                                    <label for="doctor-firstName">Όνομα</label>
                                    <input type="text" class="form-control" id="doctor-firstName" placeholder="Όνομα">
                                </div>
                                <div class="form-group w-80">
                                    <label for="doctor-lastName">Επώνυμο</label>
                                    <input type="text" class="form-control" id="doctor-lastName" placeholder="Επώνυμο">
                                </div>
                                <div class="form-group w-80">
                                    <label for="doctor-email">Email</label>
                                    <input type="email" class="form-control" id="doctor-email" aria-describedby="email" placeholder="Email">
                                </div>
                                <div class="form-group w-80">
                                    <label for="doctor-password">Κωδικός Πρόσβασης</label>
                                    <input type="password" class="form-control" id="doctor-password" placeholder="Κωδικός">
                                </div>
                                <div class="form-group w-80">
                                    <label for="doctor-tel">Κινητό Τηλέφωνο</label>
                                    <div class="input-group">
                                        <span class="input-group-text" id="basic-addon1">
                                            <svg class="gr-im pe-1" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 58.41 40.63">
                                                <g fill-rule="nonzero">
                                                    <path fill="#0D5EAF" d="M3.21 0H55.2c1.77 0 3.21 1.44 3.21 3.21v34.21c0 1.77-1.44 3.21-3.21 3.21H3.21C1.44 40.63 0 39.19 0 37.42V3.21C0 1.44 1.44 0 3.21 0z" />
                                                    <path fill="#fff" d="M11.98 0v8.84h9.19v-4.6h37.24v4.6H21.17v4.59h-9.19v9.18h46.43v4.6H0v-4.6h7.39v-9.18H0V8.84h7.39V0h4.59zm46.43 13.43v4.59H21.17v-4.59h37.24zm0 18.37v4.59H0V31.8h58.41z" />
                                                </g>
                                            </svg>
                                            +30
                                        </span>
                                        <input type="text" class="form-control" id="doctor-tel" maxlength="10" placeholder="6912345678">
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="col">
                            <form>
                                <div class="form-group w-80">
                                    <label for="doctor-amka">ΑΜΚΑ</label>
                                    <input type="text" class="form-control" id="doctor-amka" placeholder="ΑΜΚΑ">
                                </div>
                                <div class="form-group w-80">
                                    <label for="doctor-afm">ΑΦΜ</label>
                                    <input type="text" class="form-control" id="doctor-afm" placeholder="ΑΦΜ">
                                </div>
                                <div class="form-group w-80">
                                    <label for="doctor-dob">Ημερομηνία Γέννησης</label>
                                    <input type="date" class="form-control" min="1900-01-01" id="doctor-dob" onkeydown="return false">
                                </div>
                                <div class="form-group w-80">
                                    <label for="doctor-city">Τόπος Ιατρείου</label>
                                    <input type="text" class="form-control" id="doctor-city" placeholder="Πόλη">
                                </div>
                                <div class="form-group w-80">
                                    <label for="doctor-address">Διεύθυνση Ιατρείου</label>
                                    <input type="text" class="form-control" id="doctor-address" placeholder="Διεύθυνση">
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="row pt-3 ps-5 pe-5">
                        <div class="col">
                            <div class="form-group">
                                <button type="submit" id="doctor-submit" class="btn btn-primary">Submit</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Patient Form -->
                <div class="container hidden" id="pat-form">
                    <h1 class="pt-2 ps-5">Εγγραφή</h1>
                    <div class="row pt-2 ps-5 pe-5">
                        <div class="col">
                            <form>
                                <div class="form-group w-80">
                                    <label for="patient-firstName">Όνομα</label>
                                    <input type="text" class="form-control" id="patient-firstName" placeholder="Όνομα">
                                </div>
                                <div class="form-group w-80">
                                    <label for="patient-lastName">Επώνυμο</label>
                                    <input type="text" class="form-control" id="patient-lastName" placeholder="Επώνυμο">
                                </div>
                                <div class="form-group w-80">
                                    <label for="patient-email">Email</label>
                                    <input type="email" class="form-control" id="patient-email" aria-describedby="email" placeholder="Email">
                                </div>
                                <div class="form-group w-80">
                                    <label for="patient-password">Κωδικός Πρόσβασης</label>
                                    <input type="password" class="form-control" id="patient-password" placeholder="Κωδικός">
                                </div>

                                <div class="form-group w-80">
                                    <label for="patient-tel">Κινητό Τηλέφωνο</label>
                                    <div class="input-group">
                                        <span class="input-group-text" id="basic-addon1">
                                            <svg class="gr-im pe-1" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 58.41 40.63">
                                                <g fill-rule="nonzero">
                                                    <path fill="#0D5EAF" d="M3.21 0H55.2c1.77 0 3.21 1.44 3.21 3.21v34.21c0 1.77-1.44 3.21-3.21 3.21H3.21C1.44 40.63 0 39.19 0 37.42V3.21C0 1.44 1.44 0 3.21 0z" />
                                                    <path fill="#fff" d="M11.98 0v8.84h9.19v-4.6h37.24v4.6H21.17v4.59h-9.19v9.18h46.43v4.6H0v-4.6h7.39v-9.18H0V8.84h7.39V0h4.59zm46.43 13.43v4.59H21.17v-4.59h37.24zm0 18.37v4.59H0V31.8h58.41z" />
                                                </g>
                                            </svg>
                                            +30
                                        </span>
                                        <input type="text" class="form-control" id="patient-tel" maxlength="10" placeholder="6912345678">
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="col">
                            <form>
                                <div class="form-group w-80">
                                    <label for="patient-amka">ΑΜΚΑ</label>
                                    <input type="text" class="form-control" id="patient-amka" placeholder="ΑΜΚΑ">
                                </div>
                                <div class="form-group w-80">
                                    <label for="patient-afm">ΑΦΜ</label>
                                    <input type="text" class="form-control" id="patient-afm" placeholder="ΑΦΜ">
                                </div>
                                <div class="form-group w-80">
                                    <label for="patient-dob">Ημερομηνία Γέννησης</label>
                                    <input type="date" class="form-control" min="1900-01-01" id="patient-dob" onkeydown="return false">
                                </div>
                                <div class="form-group w-80">
                                    <label for="patient-city">Τόπος Διαμονής</label>
                                    <input type="text" class="form-control" id="patient-city" placeholder="Πόλη">
                                </div>
                                <div class="form-group w-80">
                                    <label for="patient-address">Διεύθυνση</label>
                                    <input type="text" class="form-control" id="patient-address" placeholder="Διεύθυνση">
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="row pt-3 ps-5 pe-5">
                        <div class="col">
                            <div class="form-group">
                                <button type="submit" id="patient-submit" class="btn btn-primary">Submit</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    </body>

    <script>
        var pForm = document.getElementById("pat-form");
        var dForm = document.getElementById("doc-form");
        var btn = document.getElementById("btnBox");
        var f1 = document.getElementById("formBox");

        function redirect() {
            // window.location.href = 'http://localhost:4000'

        }

        let box = document.getElementById('btnBox');

        var dbtn = document.getElementById('doc-btn');
        var pbtn = document.getElementById('pat-btn');
        dbtn.addEventListener('click', function () { btnListener(dbtn.id) }, false);
        pbtn.addEventListener('click', function () { btnListener(pbtn.id) }, false);

        function btnListener(id) {
            box.classList.add('vhidden');
            box.addEventListener('transitionend', function (e) {
                box.classList.add('hidden');
                if (id == dbtn.id) {
                    dForm.classList.remove('hidden');
                }
                else if (id == pbtn.id) {
                    pForm.classList.remove('hidden');
                }
                f1.classList.remove('hidden');
                setTimeout(function () {
                    f1.classList.remove('vhidden');
                }, 20);
            }, {
                capture: false,
                once: true,
                passive: false
            });
        }


        // doctorSubmit = document.getElementById('doctor-submit');

        // doctorSubmit.addEventListener('click', (e) => {
        //     var inputs = dForm.getElementsByTagName('input');
        //     const jsonData = {};

        //     for (input of inputs) {
        //         if (input.id == 'doctor-tel') {
        //             jsonData[input.id] = input.value.replaceAll(" ", "");
        //         }
        //         else {
        //             jsonData[input.id] = input.value;
        //         }
        //     }

        //     console.log(jsonData['doctor-tel']);

        //     // console.log(jsonData['doctor-tel'].replaceAll(" ", ""));
        // });

        // patientSubmit = document.getElementById('patient-submit');

        // patientSubmit.addEventListener('click', (e) => {
        //     var inputs = pForm.getElementsByTagName('input');
        //     const jsonData = {};

        //     for (input of inputs) {
        //         if (input.id == 'patient-tel') {
        //             jsonData[input.id] = input.value.replaceAll(" ", "");
        //         }
        //         else {
        //             jsonData[input.id] = input.value;
        //         }
        //     }

        //     console.log(jsonData['patient-firstName']);
        // });

        // docPhone = document.getElementById('doctor-tel');
        // docPhone.addEventListener('keydown', (e) => { telString(e) });

        // patPhone = document.getElementById('patient-tel');
        // patPhone.addEventListener('keydown', (e) => { telString(e) });

        // function telString(e) {
        //     // Number 8 is the "Backspace" key on the keyboard
        //     if (e.keyCode != 8 && (e.target.value.length == 3 || e.target.value.length == 7)) {
        //         e.target.value += ' ';
        //     }
        //     if (e.keyCode === 8 && (e.target.value.length == 5 || e.target.value.length == 9)) {
        //         // Cancel the default action, if needed
        //         e.preventDefault();

        //         e.target.value = e.target.value.substring(0, e.target.value.length - 2);
        //     }
        //     if (e.target.value.length == 12) {
        //         e.target.value = e.target.value;
        //     }
        // }

    </script>

</html>