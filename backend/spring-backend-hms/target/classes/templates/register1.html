<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>register</title>
</head>
<body>
<form action="/api/v1/auth/register" method="POST">
  <label for="email">Email:</label><br>
  <input type="email" id="email" name="email"><br>

  <label for="password">Password:</label><br>
  <input type="password" id="password" name="password"><br><br>

  <label for="firstname">Firstname:</label><br>
  <input type="text" id="firstname" name="firstname"><br>

  <label for="lastname">Lastname:</label><br>
  <input type="text" id="lastname" name="lastname"><br>

  <input type="submit" value="Submit">
</form>
</body>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
  // select the form element
const form = document.querySelector('form');

// attach event listener to form submit
form.addEventListener('submit', (e) => {
  // prevent form submission
  e.preventDefault();

  const formData = new FormData(form);
  const jsonData = {};
  formData.forEach((value, key) => { jsonData[key] = value; });

  axios.post('/api/v1/auth/register', jsonData)
  .then(function (response) {
    console.log(response);
    window.location.replace("/access");
  })
  .catch(function (error) {
    console.log(error);
  });

  /*const xhr = new XMLHttpRequest();

  xhr.open('POST', '/api/v1/auth/register');

  xhr.setRequestHeader('Content-Type', 'application/json');

  xhr.send(JSON.stringify(jsonData));
  */

</script>
</html>